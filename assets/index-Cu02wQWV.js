(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const rr=!1;var It=Array.isArray,Xn=Array.prototype.indexOf,Lt=Array.from,Sr=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,Vn=Object.prototype,Wn=Array.prototype,Ft=Object.getPrototypeOf;const xe=()=>{};function Gn(e){return e()}function bt(e){for(var t=0;t<e.length;t++)e[t]()}const W=2,Ar=4,Ue=8,Mt=16,ee=32,He=64,Ge=128,ve=256,ze=512,I=1024,te=2048,he=4096,K=8192,ke=16384,zn=32768,Bt=65536,Kn=1<<19,Cr=1<<20,fe=Symbol("$state"),xt=Symbol("");function kr(e){return e===this.v}function Tr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Or(e){return!Tr(e,this.v)}function Jn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Qn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Zn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ei(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ti(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ri(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ni(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let nt=!1,ii=!1;function si(){nt=!0}const jt=1,Ut=2,$r=4,oi=8,ai=16,li=1,ui=2,M=Symbol();function X(e,t){var r={f:0,v:e,reactions:null,equals:kr,rv:0,wv:0};return r}function Ve(e){return qr(X(e))}function Ht(e,t=!1){var n;const r=X(e);return t||(r.equals=Or),nt&&$!==null&&$.l!==null&&((n=$.l).s??(n.s=[])).push(r),r}function we(e,t=!1){return qr(Ht(e,t))}function qr(e){return C!==null&&!Z&&C.f&W&&(J===null?wi([e]):J.push(e)),e}function S(e,t){return C!==null&&!Z&&Xe()&&C.f&(W|Mt)&&(J===null||!J.includes(e))&&ni(),Et(e,t)}function Et(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Zr(),Pr(e,te),Xe()&&R!==null&&R.f&I&&!(R.f&(ee|He))&&(Y===null?bi([e]):Y.push(e))),t}function Pr(e,t){var r=e.reactions;if(r!==null)for(var n=Xe(),i=r.length,s=0;s<i;s++){var o=r[s],l=o.f;l&te||!n&&o===R||(G(o,t),l&(I|ve)&&(l&W?Pr(o,he):ut(o)))}}let Nr=!1;function ie(e,t=null,r){if(typeof e!="object"||e===null||fe in e)return e;const n=Ft(e);if(n!==Vn&&n!==Wn)return e;var i=new Map,s=It(e),o=X(0);s&&i.set("length",X(e.length));var l;return new Proxy(e,{defineProperty(u,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&ei();var d=i.get(a);return d===void 0?(d=X(f.value),i.set(a,d)):S(d,ie(f.value,l)),!0},deleteProperty(u,a){var f=i.get(a);if(f===void 0)a in u&&i.set(a,X(M));else{if(s&&typeof a=="string"){var d=i.get("length"),v=Number(a);Number.isInteger(v)&&v<d.v&&S(d,v)}S(f,M),nr(o)}return!0},get(u,a,f){var p;if(a===fe)return e;var d=i.get(a),v=a in u;if(d===void 0&&(!v||(p=Pe(u,a))!=null&&p.writable)&&(d=X(ie(v?u[a]:M,l)),i.set(a,d)),d!==void 0){var c=_(d);return c===M?void 0:c}return Reflect.get(u,a,f)},getOwnPropertyDescriptor(u,a){var f=Reflect.getOwnPropertyDescriptor(u,a);if(f&&"value"in f){var d=i.get(a);d&&(f.value=_(d))}else if(f===void 0){var v=i.get(a),c=v==null?void 0:v.v;if(v!==void 0&&c!==M)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(u,a){var c;if(a===fe)return!0;var f=i.get(a),d=f!==void 0&&f.v!==M||Reflect.has(u,a);if(f!==void 0||R!==null&&(!d||(c=Pe(u,a))!=null&&c.writable)){f===void 0&&(f=X(d?ie(u[a],l):M),i.set(a,f));var v=_(f);if(v===M)return!1}return d},set(u,a,f,d){var b;var v=i.get(a),c=a in u;if(s&&a==="length")for(var p=f;p<v.v;p+=1){var g=i.get(p+"");g!==void 0?S(g,M):p in u&&(g=X(M),i.set(p+"",g))}v===void 0?(!c||(b=Pe(u,a))!=null&&b.writable)&&(v=X(void 0),S(v,ie(f,l)),i.set(a,v)):(c=v.v!==M,S(v,ie(f,l)));var P=Reflect.getOwnPropertyDescriptor(u,a);if(P!=null&&P.set&&P.set.call(d,f),!c){if(s&&typeof a=="string"){var w=i.get("length"),m=Number(a);Number.isInteger(m)&&m>=w.v&&S(w,m+1)}nr(o)}return!0},ownKeys(u){_(o);var a=Reflect.ownKeys(u).filter(v=>{var c=i.get(v);return c===void 0||c.v!==M});for(var[f,d]of i)d.v!==M&&!(f in u)&&a.push(f);return a},setPrototypeOf(){ti()}})}function nr(e,t=1){S(e,e.v+t)}function ir(e){return e!==null&&typeof e=="object"&&fe in e?e[fe]:e}function fi(e,t){return Object.is(ir(e),ir(t))}var sr,Dr,Ir;function ci(){if(sr===void 0){sr=window;var e=Element.prototype,t=Node.prototype;Dr=Pe(t,"firstChild").get,Ir=Pe(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Lr(e=""){return document.createTextNode(e)}function Ke(e){return Dr.call(e)}function it(e){return Ir.call(e)}function E(e,t){return Ke(e)}function Xt(e,t){{var r=Ke(e);return r instanceof Comment&&r.data===""?it(r):r}}function T(e,t=1,r=!1){let n=e;for(;t--;)n=it(n);return n}function di(e){e.textContent=""}function Vt(e){var t=W|te;R===null?t|=ve:R.f|=Cr;var r=C!==null&&C.f&W?C:null;const n={children:null,ctx:$,deps:null,equals:kr,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??R};return r!==null&&(r.children??(r.children=[])).push(n),n}function vi(e){const t=Vt(e);return t.equals=Or,t}function Fr(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&W?Wt(n):se(n)}}}function hi(e){for(var t=e.parent;t!==null;){if(!(t.f&W))return t;t=t.parent}return null}function Mr(e){var t,r=R;ae(hi(e));try{Fr(e),t=tn(e)}finally{ae(r)}return t}function Br(e){var t=Mr(e),r=(ue||e.f&ve)&&e.deps!==null?he:I;G(e,r),e.equals(t)||(e.v=t,e.wv=Zr())}function Wt(e){Fr(e),je(e,0),G(e,ke),e.v=e.children=e.deps=e.ctx=e.reactions=null}function jr(e){R===null&&C===null&&Qn(),C!==null&&C.f&ve&&Yn(),Kt&&Jn()}function pi(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Te(e,t,r,n=!0){var i=(e&He)!==0,s=R,o={ctx:$,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|te,first:null,fn:t,last:null,next:null,parent:i?null:s,prev:null,teardown:null,transitions:null,wv:0};if(r){var l=Ee;try{ar(!0),lt(o),o.f|=zn}catch(f){throw se(o),f}finally{ar(l)}}else t!==null&&ut(o);var u=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Cr|Ge))===0;if(!u&&!i&&n&&(s!==null&&pi(o,s),C!==null&&C.f&W)){var a=C;(a.children??(a.children=[])).push(o)}return o}function Ur(e){const t=Te(Ue,null,!1);return G(t,I),t.teardown=e,t}function or(e){jr();var t=R!==null&&(R.f&ee)!==0&&$!==null&&!$.m;if(t){var r=$;(r.e??(r.e=[])).push({fn:e,effect:R,reaction:C})}else{var n=st(e);return n}}function _i(e){return jr(),ot(e)}function yi(e){const t=Te(He,e,!0);return(r={})=>new Promise(n=>{r.outro?Je(t,()=>{se(t),n(void 0)}):(se(t),n(void 0))})}function st(e){return Te(Ar,e,!1)}function Hr(e,t){var r=$,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=ot(()=>{e(),!n.ran&&(n.ran=!0,S(r.l.r2,!0),ft(t))})}function Xr(){var e=$;ot(()=>{if(_(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&I&&G(r,he),Oe(r)&&lt(r),t.ran=!1}e.l.r2.v=!1}})}function ot(e){return Te(Ue,e,!0)}function j(e,t=[],r=Vt){const n=t.map(r);return Gt(()=>e(...n.map(_)))}function Gt(e,t=0){return Te(Ue|Mt|t,e,!0)}function Be(e,t=!0){return Te(Ue|ee,e,!0,t)}function Vr(e){var t=e.teardown;if(t!==null){const r=Kt,n=C;lr(!0),oe(null);try{t.call(null)}finally{lr(r),oe(n)}}}function Wr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Wt(t[r])}}function Gr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;se(r,t),r=n}}function mi(e){for(var t=e.first;t!==null;){var r=t.next;t.f&ee||se(t),t=r}}function se(e,t=!0){var r=!1;if((t||e.f&Kn)&&e.nodes_start!==null){for(var n=e.nodes_start,i=e.nodes_end;n!==null;){var s=n===i?null:it(n);n.remove(),n=s}r=!0}Gr(e,t&&!r),Wr(e),je(e,0),G(e,ke);var o=e.transitions;if(o!==null)for(const u of o)u.stop();Vr(e);var l=e.parent;l!==null&&l.first!==null&&zr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function zr(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Je(e,t){var r=[];zt(e,r,!0),Kr(r,()=>{se(e),t&&t()})}function Kr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function zt(e,t,r){if(!(e.f&K)){if(e.f^=K,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,s=(n.f&Bt)!==0||(n.f&ee)!==0;zt(n,t,s?r:!1),n=i}}}function Ye(e){Jr(e,!0)}function Jr(e,t){if(e.f&K){e.f^=K,e.f&I||(e.f^=I),Oe(e)&&(G(e,te),ut(e));for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Bt)!==0||(r.f&ee)!==0;Jr(r,i?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let St=!1,Rt=[];function gi(){St=!1;const e=Rt.slice();Rt=[],bt(e)}function Yr(e){St||(St=!0,queueMicrotask(gi)),Rt.push(e)}let We=!1,Qe=!1,Ze=null,Ee=!1,Kt=!1;function ar(e){Ee=e}function lr(e){Kt=e}let At=[],Ne=0;let C=null,Z=!1;function oe(e){C=e}let R=null;function ae(e){R=e}let J=null;function wi(e){J=e}let B=null,H=0,Y=null;function bi(e){Y=e}let Qr=1,et=0,ue=!1,$=null;function Zr(){return++Qr}function Xe(){return!nt||$!==null&&$.l===null}function Oe(e){var a;var t=e.f;if(t&te)return!0;if(t&he){var r=e.deps,n=(t&ve)!==0;if(r!==null){var i,s,o=(t&ze)!==0,l=n&&R!==null&&!ue,u=r.length;if(o||l){for(i=0;i<u;i++)s=r[i],(o||!((a=s==null?void 0:s.reactions)!=null&&a.includes(e)))&&(s.reactions??(s.reactions=[])).push(e);o&&(e.f^=ze)}for(i=0;i<u;i++)if(s=r[i],Oe(s)&&Br(s),s.wv>e.wv)return!0}(!n||R!==null&&!ue)&&G(e,I)}return!1}function xi(e,t){for(var r=t;r!==null;){if(r.f&Ge)try{r.fn(e);return}catch{r.f^=Ge}r=r.parent}throw We=!1,e}function Ei(e){return(e.f&ke)===0&&(e.parent===null||(e.parent.f&Ge)===0)}function at(e,t,r,n){if(We){if(r===null&&(We=!1),Ei(t))throw e;return}r!==null&&(We=!0);{xi(e,t);return}}function en(e,t,r=0){var n=e.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];s.f&W?en(s,t,r+1):t===s&&(r===0?G(s,te):s.f&I&&G(s,he),ut(s))}}function tn(e){var c;var t=B,r=H,n=Y,i=C,s=ue,o=J,l=$,u=Z,a=e.f;B=null,H=0,Y=null,C=a&(ee|He)?null:e,ue=!Ee&&(a&ve)!==0,J=null,$=e.ctx,Z=!1,et++;try{var f=(0,e.fn)(),d=e.deps;if(B!==null){var v;if(je(e,H),d!==null&&H>0)for(d.length=H+B.length,v=0;v<B.length;v++)d[H+v]=B[v];else e.deps=d=B;if(!ue)for(v=H;v<d.length;v++)((c=d[v]).reactions??(c.reactions=[])).push(e)}else d!==null&&H<d.length&&(je(e,H),d.length=H);if(Xe()&&Y!==null&&!(e.f&(W|he|te)))for(v=0;v<Y.length;v++)en(Y[v],e);return i!==null&&et++,f}finally{B=t,H=r,Y=n,C=i,ue=s,J=o,$=l,Z=u}}function Si(e,t){let r=t.reactions;if(r!==null){var n=Xn.call(r,e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&t.f&W&&(B===null||!B.includes(t))&&(G(t,he),t.f&(ve|ze)||(t.f^=ze),je(t,0))}function je(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Si(e,r[n])}function lt(e){var t=e.f;if(!(t&ke)){G(e,I);var r=R,n=$;R=e;try{t&Mt?mi(e):Gr(e),Wr(e),Vr(e);var i=tn(e);e.teardown=typeof i=="function"?i:null,e.wv=Qr;var s=e.deps,o;rr&&ii&&e.f&te}catch(l){at(l,e,r,n||e.ctx)}finally{R=r}}}function Ri(){if(Ne>1e3){Ne=0;try{Zn()}catch(e){if(Ze!==null)at(e,Ze,null);else throw e}}Ne++}function Ai(e){var t=e.length;if(t!==0){Ri();var r=Ee;Ee=!0;try{for(var n=0;n<t;n++){var i=e[n];i.f&I||(i.f^=I);var s=[];rn(i,s),Ci(s)}}finally{Ee=r}}}function Ci(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&(ke|K)))try{Oe(n)&&(lt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?zr(n):n.fn=null))}catch(i){at(i,n,null,n.ctx)}}}function ki(){if(Qe=!1,Ne>1001)return;const e=At;At=[],Ai(e),Qe||(Ne=0,Ze=null)}function ut(e){Qe||(Qe=!0,queueMicrotask(ki)),Ze=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(He|ee)){if(!(r&I))return;t.f^=I}}At.push(t)}function rn(e,t){var r=e.first,n=[];e:for(;r!==null;){var i=r.f,s=(i&ee)!==0,o=s&&(i&I)!==0,l=r.next;if(!o&&!(i&K))if(i&Ue){if(s)r.f^=I;else try{Oe(r)&&lt(r)}catch(d){at(d,r,null,r.ctx)}var u=r.first;if(u!==null){r=u;continue}}else i&Ar&&n.push(r);if(l===null){let d=r.parent;for(;d!==null;){if(e===d)break e;var a=d.next;if(a!==null){r=a;continue e}d=d.parent}}r=l}for(var f=0;f<n.length;f++)u=n[f],t.push(u),rn(u,t)}function _(e){var f;var t=e.f,r=(t&W)!==0;if(r&&t&ke){var n=Mr(e);return Wt(e),n}if(C!==null&&!Z){J!==null&&J.includes(e)&&ri();var i=C.deps;e.rv<et&&(e.rv=et,B===null&&i!==null&&i[H]===e?H++:B===null?B=[e]:B.push(e))}else if(r&&e.deps===null)for(var s=e,o=s.parent,l=s;o!==null;)if(o.f&W){var u=o;l=u,o=u.parent}else{var a=o;(f=a.deriveds)!=null&&f.includes(l)||(a.deriveds??(a.deriveds=[])).push(l);break}return r&&(s=e,Oe(s)&&Br(s)),e.v}function ft(e){var t=Z;try{return Z=!0,e()}finally{Z=t}}const Ti=-7169;function G(e,t){e.f=e.f&Ti|t}function pe(e,t=!1,r){$={p:$,c:null,e:null,m:!1,s:e,x:null,l:null},nt&&!t&&($.l={s:null,u:null,r1:[],r2:X(!1)})}function _e(e){const t=$;if(t!==null){const o=t.e;if(o!==null){var r=R,n=C;t.e=null;try{for(var i=0;i<o.length;i++){var s=o[i];ae(s.effect),oe(s.reaction),st(s.fn)}}finally{ae(r),oe(n)}}$=t.p,t.m=!0}return{}}function Oi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(fe in e)Ct(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&fe in r&&Ct(r)}}}function Ct(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Ct(e[n],t)}catch{}const r=Ft(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Rr(r);for(let i in n){const s=n[i].get;if(s)try{s.call(e)}catch{}}}}}const $i=["touchstart","touchmove"];function qi(e){return $i.includes(e)}let ur=!1;function Pi(){ur||(ur=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function nn(e){var t=C,r=R;oe(null),ae(null);try{return e()}finally{oe(t),ae(r)}}function sn(e,t,r,n=r){e.addEventListener(t,()=>nn(r));const i=e.__on_r;i?e.__on_r=()=>{i(),n(!0)}:e.__on_r=()=>n(!0),Pi()}const on=new Set,kt=new Set;function Ni(e,t,r,n={}){function i(s){if(n.capture||qe.call(t,s),!s.cancelBubble)return nn(()=>r==null?void 0:r.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,i,n)}):t.addEventListener(e,i,n),i}function De(e,t,r,n,i){var s={capture:n,passive:i},o=Ni(e,t,r,s);(t===document.body||t===window||t===document)&&Ur(()=>{t.removeEventListener(e,o,s)})}function an(e){for(var t=0;t<e.length;t++)on.add(e[t]);for(var r of kt)r(e)}function qe(e){var m;var t=this,r=t.ownerDocument,n=e.type,i=((m=e.composedPath)==null?void 0:m.call(e))||[],s=i[0]||e.target,o=0,l=e.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var a=i.indexOf(t);if(a===-1)return;u<=a&&(o=u)}if(s=i[o]||e.target,s!==t){Sr(e,"currentTarget",{configurable:!0,get(){return s||r}});var f=C,d=R;oe(null),ae(null);try{for(var v,c=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+n];if(g!==void 0&&!s.disabled)if(It(g)){var[P,...w]=g;P.apply(s,[e,...w])}else g.call(s,e)}catch(b){v?c.push(b):v=b}if(e.cancelBubble||p===t||p===null)break;s=p}if(v){for(let b of c)queueMicrotask(()=>{throw b});throw v}}finally{e.__root=t,delete e.currentTarget,oe(f),ae(d)}}}function Di(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function fr(e,t){var r=R;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function D(e,t){var r=(t&li)!==0,n=(t&ui)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Di(s?e:"<!>"+e),r||(i=Ke(i)));var o=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=Ke(o),u=o.lastChild;fr(l,u)}else fr(o,o);return o}}function N(e,t){e!==null&&e.before(t)}function F(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Ii(e,t){return Li(e,t)}const ye=new Map;function Li(e,{target:t,anchor:r,props:n={},events:i,context:s,intro:o=!0}){ci();var l=new Set,u=d=>{for(var v=0;v<d.length;v++){var c=d[v];if(!l.has(c)){l.add(c);var p=qi(c);t.addEventListener(c,qe,{passive:p});var g=ye.get(c);g===void 0?(document.addEventListener(c,qe,{passive:p}),ye.set(c,1)):ye.set(c,g+1)}}};u(Lt(on)),kt.add(u);var a=void 0,f=yi(()=>{var d=r??t.appendChild(Lr());return Be(()=>{if(s){pe({});var v=$;v.c=s}i&&(n.$$events=i),a=e(d,n)||{},s&&_e()}),()=>{var p;for(var v of l){t.removeEventListener(v,qe);var c=ye.get(v);--c===0?(document.removeEventListener(v,qe),ye.delete(v)):ye.set(v,c)}kt.delete(u),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return Fi.set(a,f),a}let Fi=new WeakMap;function ce(e,t,r=!1){var n=e,i=null,s=null,o=M,l=r?Bt:0,u=!1;const a=(d,v=!0)=>{u=!0,f(v,d)},f=(d,v)=>{o!==(o=d)&&(o?(i?Ye(i):v&&(i=Be(()=>v(n))),s&&Je(s,()=>{s=null})):(s?Ye(s):v&&(s=Be(()=>v(n))),i&&Je(i,()=>{i=null})))};Gt(()=>{u=!1,t(a),u||f(null,null)},l)}function Ie(e,t){return t}function Mi(e,t,r,n){for(var i=[],s=t.length,o=0;o<s;o++)zt(t[o].e,i,!0);var l=s>0&&i.length===0&&r!==null;if(l){var u=r.parentNode;di(u),u.append(r),n.clear(),ne(e,t[0].prev,t[s-1].next)}Kr(i,()=>{for(var a=0;a<s;a++){var f=t[a];l||(n.delete(f.k),ne(e,f.prev,f.next)),se(f.e,!l)}})}function Le(e,t,r,n,i,s=null){var o=e,l={flags:t,items:new Map,first:null},u=(t&$r)!==0;if(u){var a=e;o=a.appendChild(Lr())}var f=null,d=!1,v=vi(()=>{var c=r();return It(c)?c:c==null?[]:Lt(c)});Gt(()=>{var c=_(v),p=c.length;if(!(d&&p===0)){d=p===0;{var g=C;Bi(c,l,o,i,t,(g.f&K)!==0,n,r)}s!==null&&(p===0?f?Ye(f):f=Be(()=>s(o)):f!==null&&Je(f,()=>{f=null})),_(v)}})}function Bi(e,t,r,n,i,s,o,l){var Yt,Qt,Zt,er;var u=(i&oi)!==0,a=(i&(jt|Ut))!==0,f=e.length,d=t.items,v=t.first,c=v,p,g=null,P,w=[],m=[],b,k,y,h;if(u)for(h=0;h<f;h+=1)b=e[h],k=o(b,h),y=d.get(k),y!==void 0&&((Yt=y.a)==null||Yt.measure(),(P??(P=new Set)).add(y));for(h=0;h<f;h+=1){if(b=e[h],k=o(b,h),y=d.get(k),y===void 0){var A=c?c.e.nodes_start:r;g=Ui(A,t,g,g===null?t.first:g.next,b,k,h,n,i,l),d.set(k,g),w=[],m=[],c=g.next;continue}if(a&&ji(y,b,h,i),y.e.f&K&&(Ye(y.e),u&&((Qt=y.a)==null||Qt.unfix(),(P??(P=new Set)).delete(y))),y!==c){if(p!==void 0&&p.has(y)){if(w.length<m.length){var x=m[0],q;g=x.prev;var U=w[0],re=w[w.length-1];for(q=0;q<w.length;q+=1)cr(w[q],x,r);for(q=0;q<m.length;q+=1)p.delete(m[q]);ne(t,U.prev,re.next),ne(t,g,U),ne(t,re,x),c=x,g=re,h-=1,w=[],m=[]}else p.delete(y),cr(y,c,r),ne(t,y.prev,y.next),ne(t,y,g===null?t.first:g.next),ne(t,g,y),g=y;continue}for(w=[],m=[];c!==null&&c.k!==k;)(s||!(c.e.f&K))&&(p??(p=new Set)).add(c),m.push(c),c=c.next;if(c===null)continue;y=c}w.push(y),g=y,c=y.next}if(c!==null||p!==void 0){for(var $e=p===void 0?[]:Lt(p);c!==null;)(s||!(c.e.f&K))&&$e.push(c),c=c.next;var _t=$e.length;if(_t>0){var Hn=i&$r&&f===0?r:null;if(u){for(h=0;h<_t;h+=1)(Zt=$e[h].a)==null||Zt.measure();for(h=0;h<_t;h+=1)(er=$e[h].a)==null||er.fix()}Mi(t,$e,Hn,d)}}u&&Yr(()=>{var tr;if(P!==void 0)for(y of P)(tr=y.a)==null||tr.apply()}),R.first=t.first&&t.first.e,R.last=g&&g.e}function ji(e,t,r,n){n&jt&&Et(e.v,t),n&Ut?Et(e.i,r):e.i=r}function Ui(e,t,r,n,i,s,o,l,u,a){var f=(u&jt)!==0,d=(u&ai)===0,v=f?d?Ht(i):X(i):i,c=u&Ut?X(o):o,p={i:c,v,k:s,a:null,e:null,prev:r,next:n};try{return p.e=Be(()=>l(e,v,c,a),Nr),p.e.prev=r&&r.e,p.e.next=n&&n.e,r===null?t.first=p:(r.next=p,r.e.next=p.e),n!==null&&(n.prev=p,n.e.prev=p.e),p}finally{}}function cr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==n;){var o=it(s);i.before(s),s=o}}function ne(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function ln(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ln(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hi(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ln(e))&&(n&&(n+=" "),n+=t);return n}function Xi(e){return typeof e=="object"?Hi(e):e??""}function dr(e,t){var r=e.__attributes??(e.__attributes={});r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Vi(e,t){var r=e.__attributes??(e.__attributes={});r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function V(e,t,r,n){var i=e.__attributes??(e.__attributes={});i[t]!==(i[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[xt]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Wi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var vr=new Map;function Wi(e){var t=vr.get(e.nodeName);if(t)return t;vr.set(e.nodeName,t=[]);for(var r,n=e,i=Element.prototype;i!==n;){r=Rr(n);for(var s in r)r[s].set&&t.push(s);n=Ft(n)}return t}function Ae(e){if(e.loading==="lazy"){var t=e.src;e[xt]=null,e.loading="eager",e.removeAttribute("src"),requestAnimationFrame(()=>{e[xt]!=="eager"&&(e.loading="lazy"),e.src=t})}}function Gi(e,t,r){var n=e.__className,i=zi(t);(n!==i||Nr)&&(t==null?e.removeAttribute("class"):e.className=i,e.__className=i)}function zi(e,t){return(e??"")+""}function Ki(e,t,r=t){var n=Xe();sn(e,"input",i=>{var s=i?e.defaultValue:e.value;if(s=yt(e)?mt(s):s,r(s),n&&s!==(s=t())){var o=e.selectionStart,l=e.selectionEnd;e.value=s??"",l!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(l,e.value.length))}}),ft(t)==null&&e.value&&r(yt(e)?mt(e.value):e.value),ot(()=>{var i=t();yt(e)&&i===mt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function yt(e){var t=e.type;return t==="number"||t==="range"}function mt(e){return e===""?null:+e}function un(e,t,r){if(e.multiple)return Qi(e,t);for(var n of e.options){var i=Fe(n);if(fi(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ji(e,t){st(()=>{var r=new MutationObserver(()=>{var n=e.__value;un(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Yi(e,t,r=t){var n=!0;sn(e,"change",i=>{var s=i?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(s),Fe);else{var l=e.querySelector(s)??e.querySelector("option:not([disabled])");o=l&&Fe(l)}r(o)}),st(()=>{var i=t();if(un(e,i,n),n&&i===void 0){var s=e.querySelector(":checked");s!==null&&(i=Fe(s),r(i))}e.__value=i,n=!1}),Ji(e)}function Qi(e,t){for(var r of e.options)r.selected=~t.indexOf(Fe(r))}function Fe(e){return"__value"in e?e.__value:e.value}function ct(e=!1){const t=$,r=t.l.u;if(!r)return;let n=()=>Oi(t.s);if(e){let i=0,s={};const o=Vt(()=>{let l=!1;const u=t.s;for(const a in u)u[a]!==s[a]&&(s[a]=u[a],l=!0);return l&&i++,i});n=()=>_(o)}r.b.length&&_i(()=>{hr(t,n),bt(r.b)}),or(()=>{const i=ft(()=>r.m.map(Gn));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&or(()=>{hr(t,n),bt(r.a)})}function hr(e,t){if(e.l.s)for(const r of e.l.s)_(r);t()}function fn(e,t,r){if(e==null)return t(void 0),xe;const n=ft(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const me=[];function cn(e,t=xe){let r=null;const n=new Set;function i(l){if(Tr(e,l)&&(e=l,r)){const u=!me.length;for(const a of n)a[1](),me.push(a,e);if(u){for(let a=0;a<me.length;a+=2)me[a][0](me[a+1]);me.length=0}}}function s(l){i(l(e))}function o(l,u=xe){const a=[l,u];return n.add(a),n.size===1&&(r=t(i,s)||xe),l(e),()=>{n.delete(a),n.size===0&&r&&(r(),r=null)}}return{set:i,update:s,subscribe:o}}function dn(e){let t;return fn(e,r=>t=r)(),t}let Tt=Symbol();function Ot(e,t,r){const n=r[t]??(r[t]={store:null,source:Ht(void 0),unsubscribe:xe});if(n.store!==e&&!(Tt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=xe;else{var i=!0;n.unsubscribe=fn(e,s=>{i?n.source.v=s:S(n.source,s)}),i=!1}return e&&Tt in r?dn(e):_(n.source)}function vn(){const e={};function t(){Ur(()=>{for(var r in e)e[r].unsubscribe();Sr(e,Tt,{enumerable:!1,value:!0})})}return[e,t]}const Zi="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zi);si();const Q={title:"Card Recommender MTG",subTitle:"Find your best cards for your commander deck (with filters)",filterLabel:"Filter",commanderInput:"Commander Name",selectedCommander:"Selected Commander:",loadMore:"Load More",CardType:"Card Type",CardColor:"Card Color",CardAggresive:"Card Aggresive",CostLessThen:"Cost Less Than",CostMoreThen:"Cost More Than",Colors:{W:"White",U:"Blue",B:"Black",R:"Red",G:"Green"}},Ce=cn(void 0),tt=cn({});function es(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout(()=>e.apply(this,n),t)}}const $t=async(e,t)=>{let r=t.baseurl?`${t.baseurl}${e}`:e;return t.query&&(r=`${r}?${new URLSearchParams(t.query).toString()}`),t.cardType&&(r=`${r}+type:"${t.cardType}"`),await(await fetch(r,{body:t.body,method:t.method,headers:{"Content-Type":"application/json"}})).json()};var rt=(e=>(e.Scryfall="https://api.scryfall.com/",e.Groq="https://mtg-card-recommender-backend.netlify.app/",e))(rt||{}),ts=D('<div class="py-4"><img class="w-6 h-6 m-auto" alt="loading" loading="lazy"></div>'),rs=D('<button class="hover:bg-gray-200 cursor-pointer py-2 w-full text-left h-full"> </button>'),ns=D("<ul></ul>"),is=D('<div class="absolute top-20 w-[90%] md:w-[45%] max-h-52 overflow-auto bg-white shadow-lg"><!></div>'),ss=D('<div class="relative w-full flex justify-center items-center pb-10"><input type="text" class="w-[90%] md:w-[45%] p-2 mt-10 bg-white"> <!></div>');function os(e,t){pe(t,!1);let r=we(""),n=we([]),i=we(!1),s=we(!0);const o=async c=>{if(c.length>2){S(i,!0);const p=await $t("cards/search",{query:{q:c},cardType:"legendary creature",method:"GET",baseurl:rt.Scryfall});S(n,p.data),S(i,!1)}},l=c=>{S(r,c.name),S(n,[]),Ce.set(c)},u=es(o,1e3);Hr(()=>_(r),()=>{u(_(r))}),Xr(),ct();var a=ss(),f=E(a),d=T(f,2);{var v=c=>{var p=is(),g=E(p);{var P=m=>{var b=ts(),k=E(b);j(()=>V(k,"src","/mtg-card-recommender//loading.svg")),Ae(k),N(m,b)},w=m=>{var b=ns();Le(b,5,()=>_(n),Ie,(k,y)=>{var h=rs(),A=E(h);j(()=>F(A,_(y).name)),De("click",h,()=>l(_(y))),N(k,h)}),N(m,b)};ce(g,m=>{_(i)?m(P):m(w,!1)})}N(c,p)};ce(d,c=>{_(s)&&c(v)})}j(()=>V(f,"placeholder",Q.commanderInput)),Ki(f,()=>_(r),c=>S(r,c)),De("focus",f,()=>S(s,!0)),De("blur",f,()=>setTimeout(()=>S(s,!1),200)),N(e,a),_e()}var hn=(e=>(e.Control="Control",e.Aggresive="Aggresive",e.Combo="Combo",e.MidRange="Mid Range",e))(hn||{});const as=["Artifact","Creature","Enchantment","Instant","Land","Planeswalker","Sorcery"],ls=["W","U","B","R","G"],us=e=>{const t=e.target;tt.update(r=>(r.cardType=t.value,r))};var fs=D("<option> </option>"),cs=(e,t,r)=>t(e,_(r)),ds=D('<div class="flex items-center mb-2 mx-2"><input type="checkbox" class="accent-blue-400 svelte-19aoflc"> <label class="ml-2 flex item-center justify-center gap-1"><img class="w-4 h-4 mt-1" loading="lazy"> </label></div>'),vs=(e,t,r)=>t(_(r)),hs=D('<div class="flex items-center mb-2 mx-2"><input type="checkbox" class="accent-blue-400 svelte-19aoflc"> <label class="ml-2 flex item-center justify-center gap-1"> </label></div>'),ps=D('<div class="flex flex-col gap-4 pt-2"><div class="filter-row svelte-19aoflc"><label class="flex-2" for="cardType"> </label> <select id="cardType" class="flex-8 mt-2 p-2 border rounded"></select></div> <div class="filter-row svelte-19aoflc"><label class="flex-2" for="cardColor"> </label> <div id="cardColor" class="flex flex-row flex-8 md:mt-2 flex-wrap"></div></div> <div class="filter-row svelte-19aoflc"><label class="flex-2" for="cardAggresive"> </label> <div id="cardAggresive" class="flex flex-row flex-8 md:mt-2 flex-wrap"></div></div></div>');function _s(e,t){pe(t,!0);let r=Ve(""),n=Ve(ie(ls)),i=Ve(void 0);const s="https://svgs.scryfall.io/card-symbols/",o=(y,h)=>{const A=y.target;selectedColors=A.checked?[...selectedColors,h]:selectedColors.filter(x=>x!==h),tt.update(x=>(x.cardColor=selectedColors,x))},l=y=>{S(i,ie(y)),tt.update(h=>(h.cardAggresive=_(i),h))};Ce.subscribe(y=>{y&&(S(n,ie(y.colors)),selectedColors=[])});var u=ps(),a=E(u),f=E(a),d=E(f),v=T(f,2);v.__input=[us],Le(v,21,()=>as,Ie,(y,h)=>{var A=fs(),x={},q=E(A);j(()=>{x!==(x=_(h))&&(A.value=(A.__value=_(h))==null?"":_(h)),F(q,_(h))}),N(y,A)});var c=T(a,2),p=E(c),g=E(p),P=T(p,2);Le(P,21,()=>_(n),Ie,(y,h)=>{var A=ds(),x=E(A);x.__change=[cs,o,h];var q=T(x,2),U=E(q),re=T(U);j(()=>{V(x,"id",_(h)),dr(x,_(h)),V(q,"for",_(h)),V(U,"src",`${s}${_(h)}.svg`),V(U,"alt",_(h)),F(re,` ${Q.Colors[_(h)]??""}`)}),Ae(U),N(y,A)});var w=T(c,2),m=E(w),b=E(m),k=T(m,2);Le(k,21,()=>Object.values(hn),Ie,(y,h)=>{var A=hs(),x=E(A);x.__change=[vs,l,h];var q=T(x,2),U=E(q);j(()=>{V(x,"id",_(h)),dr(x,_(h)),Vi(x,_(i)===_(h)),V(q,"for",_(h)),F(U,_(h))}),N(y,A)}),j(()=>{F(d,Q.CardType),F(g,Q.CardColor),F(b,Q.CardAggresive)}),Yi(v,()=>_(r),y=>S(r,y)),N(e,u),_e()}an(["input","change"]);var ys=(e,t)=>S(t,!_(t)),ms=D('<!> <div class="bg-white p-4 flex justify-center flex-col w-[90%] md:w-[45%] radius-2 mb-4"><button class="flex flex-row justify-center gap-2"> <img alt="chevron-down-filter" loading="lazy"></button> <!></div>',1);function gs(e,t){pe(t,!0);let r=Ve(!1);var n=ms(),i=Xt(n);os(i,{});var s=T(i,2),o=E(s);o.__click=[ys,r];var l=E(o),u=T(l),a=T(o,2);{var f=d=>{_s(d,{})};ce(a,d=>{_(r)&&d(f)})}j(()=>{F(l,`${(_(r)?"Hide":"Show")??""} Filter `),V(u,"src","/mtg-card-recommender//chevron-down.svg"),Gi(u,Xi(["w-6 h-6 rotate-0 transition-all",_(r)&&"rotate-180"]))}),Ae(u),N(e,n),_e()}an(["click"]);var ws=D('<div class="flex items-center justify-center flex-col relative"><img alt="commander" class="h-[20.875rem] w-60" loading="lazy"> <button class="absolute top-0 left-0 p-1 m-1 px-2 bg-slate-800 opacity-60 text-white rounded-full">X</button> <h1 class="text-2xl mt-2"> </h1></div>'),bs=D('<div class="animate-pulse h-[20.875rem] w-60 bg-slate-200"></div>'),xs=D('<p class="text-2xl mb-2"> </p> <div class="margin-auto w-full flex justify-center items-center"><!></div>',1);function Es(e,t){pe(t,!1);const[r,n]=vn(),i=()=>Ot(Ce,"$selectedCommander",r);ct();var s=xs(),o=Xt(s),l=E(o),u=T(o,2),a=E(u);{var f=v=>{var c=ws(),p=E(c),g=T(p,2),P=T(g,2),w=E(P);j(()=>{V(p,"src",i().image_uris.large),F(w,i().name)}),Ae(p),De("click",g,()=>Ce.set(void 0)),N(v,c)},d=v=>{var c=bs();N(v,c)};ce(a,v=>{i()?v(f):v(d,!1)})}j(()=>F(l,Q.selectedCommander)),N(e,s),_e(),n()}const ge="0.12.0";let pr=!1,Me,pn,_n,qt,yn,mn,gn,wn,bn;function Ss(e,t={auto:!1}){if(pr)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if(Me)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${Me}'\``);pr=t.auto,Me=e.kind,pn=e.fetch,_n=e.FormData,qt=e.File,yn=e.ReadableStream,mn=e.getMultipartRequestOptions,gn=e.getDefaultAgent,wn=e.fileFromPath,bn=e.isFsReadStream}class Rs{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function As({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let r,n,i,s;try{r=fetch,n=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new Rs(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:o=>!1}}Me||Ss(As(),{auto:!0});class z extends Error{}class L extends z{constructor(t,r,n,i){super(`${L.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new dt({message:n,cause:Dt(r)});const s=r;return t===400?new En(t,s,n,i):t===401?new Sn(t,s,n,i):t===403?new Rn(t,s,n,i):t===404?new An(t,s,n,i):t===409?new Cn(t,s,n,i):t===422?new kn(t,s,n,i):t===429?new Tn(t,s,n,i):t>=500?new On(t,s,n,i):new L(t,s,n,i)}}class Pt extends L{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class dt extends L{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class xn extends dt{constructor({message:t}={}){super({message:t??"Request timed out."})}}class En extends L{}class Sn extends L{}class Rn extends L{}class An extends L{}class Cn extends L{}class kn extends L{}class Tn extends L{}class On extends L{}class be{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;const i=new Cs;async function*s(){if(!t.body)throw r.abort(),new z("Attempted to iterate over a response with no body");const l=new de,u=_r(t.body);for await(const a of u)for(const f of l.decode(a)){const d=i.decode(f);d&&(yield d)}for(const a of l.flush()){const f=i.decode(a);f&&(yield f)}}async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let l=!1;try{for await(const u of s())if(!l){if(u.data.startsWith("[DONE]")){l=!0;continue}if(u.event===null||u.event==="error"){let a;try{a=JSON.parse(u.data)}catch(f){throw console.error("Could not parse message into JSON:",u.data),console.error("From chunk:",u.raw),f}if(a&&a.error)throw new L(a.error.status_code,a.error,a.error.message,void 0);yield a}}l=!0}catch(u){if(u instanceof Error&&u.name==="AbortError")return;throw u}finally{l||r.abort()}}return new be(o,r)}static fromReadableStream(t,r){let n=!1;async function*i(){const o=new de,l=_r(t);for await(const u of l)for(const a of o.decode(u))yield a;for(const u of o.flush())yield u}async function*s(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||r.abort()}}return new be(s,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=n.next();t.push(o),r.push(o)}return s.shift()}});return[new be(()=>i(t),this.controller),new be(()=>i(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new yn({async start(){r=t[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await r.next();if(o)return i.close();const l=n.encode(JSON.stringify(s)+`
`);i.enqueue(l)}catch(s){i.error(s)}},async cancel(){var i;await((i=r.return)==null?void 0:i.call(r))}})}}class Cs{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=ks(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}class de{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];const n=de.NEWLINE_CHARS.has(r[r.length-1]||"");let i=r.split(de.NEWLINE_REGEXP);return i.length===1&&!n?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),n||(this.buffer=[i.pop()||""]),i)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new z(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}de.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);de.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function ks(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function _r(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const $n=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",qn=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&vt(e),vt=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ts=e=>qn(e)||$n(e)||bn(e);async function Pn(e,t,r){var i;if(e=await e,qn(e))return e;if($n(e)){const s=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=vt(s)?[await s.arrayBuffer()]:[s];return new qt(o,t,r)}const n=await Os(e);if(t||(t=qs(e)??"unknown_file"),!(r!=null&&r.type)){const s=(i=n[0])==null?void 0:i.type;typeof s=="string"&&(r={...r,type:s})}return new qt(n,t,r)}async function Os(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(vt(e))t.push(await e.arrayBuffer());else if(Ps(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${$s(e)}`);return t}function $s(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function qs(e){var t;return gt(e.name)||gt(e.filename)||((t=gt(e.path))==null?void 0:t.split(/[\\/]/).pop())}const gt=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},Ps=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",yr=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",Nn=async e=>{const t=await Ns(e.body);return mn(t,e)},Ns=async e=>{const t=new _n;return await Promise.all(Object.entries(e||{}).map(([r,n])=>Nt(t,r,n))),t},Nt=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(Ts(r)){const n=await Pn(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>Nt(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>Nt(e,`${t}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var Se={};async function Dn(e){const{response:t}=e;if(e.options.stream)return Re("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):be.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const s=await t.json();return Re("response",t.status,t.url,t.headers,s),s}const i=await t.text();return Re("response",t.status,t.url,t.headers,i),i}class ht extends Promise{constructor(t,r=Dn){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new ht(this.responsePromise,async r=>t(await this.parseResponse(r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class Ds{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e4,httpAgent:i,fetch:s}){this.baseURL=t,this.maxRetries=wt("maxRetries",r),this.timeout=wt("timeout",n),this.httpAgent=i,this.fetch=s??pn}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Bs(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${Gs()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async i=>{const s=i&&vt(i==null?void 0:i.body)?new DataView(await i.body.arrayBuffer()):(i==null?void 0:i.body)instanceof DataView?i.body:(i==null?void 0:i.body)instanceof ArrayBuffer?new DataView(i.body):i&&ArrayBuffer.isView(i==null?void 0:i.body)?new DataView(i.body.buffer):i==null?void 0:i.body;return{method:t,path:r,...i,body:s}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var g;const{method:n,path:i,query:s,headers:o={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:yr(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,u=this.calculateContentLength(l),a=this.buildURL(i,s);"timeout"in t&&wt("timeout",t.timeout);const f=t.timeout??this.timeout,d=t.httpAgent??this.httpAgent??gn(a),v=f+1e3;typeof((g=d==null?void 0:d.options)==null?void 0:g.timeout)=="number"&&v>(d.options.timeout??0)&&(d.options.timeout=v),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const c=this.buildHeaders({options:t,headers:o,contentLength:u,retryCount:r});return{req:{method:n,...l&&{body:l},headers:c,...d&&{agent:d},signal:t.signal??null},url:a,timeout:f}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:i}){const s={};n&&(s["content-length"]=n);const o=this.defaultHeaders(t);return xr(s,o),xr(s,r),yr(t.body)&&Me!=="node"&&delete s["content-type"],Er(o,"x-stainless-retry-count")===void 0&&Er(r,"x-stainless-retry-count")===void 0&&(s["x-stainless-retry-count"]=String(i)),this.validateHeaders(s,r),s}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,i){return L.generate(t,r,n,i)}request(t,r=null){return new ht(this.makeRequest(t,r))}async makeRequest(t,r){var d,v;const n=await t,i=n.maxRetries??this.maxRetries;r==null&&(r=i),await this.prepareOptions(n);const{req:s,url:o,timeout:l}=this.buildRequest(n,{retryCount:i-r});if(await this.prepareRequest(s,{url:o,options:n}),Re("request",o,n,s.headers),(d=n.signal)!=null&&d.aborted)throw new Pt;const u=new AbortController,a=await this.fetchWithTimeout(o,s,l,u).catch(Dt);if(a instanceof Error){if((v=n.signal)!=null&&v.aborted)throw new Pt;if(r)return this.retryRequest(n,r);throw a.name==="AbortError"?new xn:new dt({cause:a})}const f=Ls(a.headers);if(!a.ok){if(r&&this.shouldRetry(a)){const m=`retrying, ${r} attempts remaining`;return Re(`response (error; ${m})`,a.status,o,f),this.retryRequest(n,r,f)}const c=await a.text().catch(m=>Dt(m).message),p=js(c),g=p?void 0:c;throw Re(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,a.status,o,f,g),this.makeStatusError(a.status,p,g,f)}return{response:a,options:n,controller:u}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new Is(this,n,t)}buildURL(t,r){const n=Hs(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),i=this.defaultQuery();return Vs(i)||(r={...i,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new z(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,i){const{signal:s,...o}=r||{};s&&s.addEventListener("abort",()=>i.abort());const l=setTimeout(()=>i.abort(),n),u={signal:i.signal,...o};return u.method&&(u.method=u.method.toUpperCase()),this.fetch.call(void 0,t,u).finally(()=>{clearTimeout(l)})}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let i;const s=n==null?void 0:n["retry-after-ms"];if(s){const l=parseFloat(s);Number.isNaN(l)||(i=l)}const o=n==null?void 0:n["retry-after"];if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(r,l)}return await Xs(i),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const s=r-t,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ge}`}}class Is extends ht{constructor(t,r,n){super(r,async i=>new n(t,i.response,await Dn(i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const Ls=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),Fs=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ge,"X-Stainless-OS":gr(Deno.build.os),"X-Stainless-Arch":mr(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ge,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ge,"X-Stainless-OS":gr(process.platform),"X-Stainless-Arch":mr(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=Ms();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ge,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ge,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Ms(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,o=n[3]||0;return{browser:t,version:`${i}.${s}.${o}`}}}return null}const mr=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",gr=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let wr;const Bs=()=>wr??(wr=Fs()),js=e=>{try{return JSON.parse(e)}catch{return}},Us=/^[a-z][a-z0-9+.-]*:/i,Hs=e=>Us.test(e),Xs=e=>new Promise(t=>setTimeout(t,e)),wt=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new z(`${e} must be an integer`);if(t<0)throw new z(`${e} must be a positive integer`);return t},Dt=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},br=e=>{var t,r,n,i;if(typeof process<"u")return((t=Se==null?void 0:Se[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(i=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:i.trim()};function Vs(e){if(!e)return!0;for(const t in e)return!1;return!0}function Ws(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xr(e,t){for(const r in t){if(!Ws(t,r))continue;const n=r.toLowerCase();if(!n)continue;const i=t[r];i===null?delete e[n]:i!==void 0&&(e[n]=i)}}function Re(e,...t){typeof process<"u"&&(Se==null?void 0:Se.DEBUG)==="true"&&console.log(`Groq:DEBUG:${e}`,...t)}const Gs=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),zs=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",Ks=e=>typeof(e==null?void 0:e.get)=="function",Er=(e,t)=>{var n;const r=t.toLowerCase();if(Ks(e)){const i=((n=t[0])==null?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(s,o,l)=>o+l.toUpperCase());for(const s of[t,r,t.toUpperCase(),i]){const o=e.get(s);if(o)return o}}for(const[i,s]of Object.entries(e))if(i.toLowerCase()===r)return Array.isArray(s)?(s.length<=1||console.warn(`Received ${s.length} entries for the ${t} header, using the first entry.`),s[0]):s};class le{constructor(t){this._client=t}}class In extends le{create(t,r){return this._client.post("/openai/v1/audio/transcriptions",Nn({body:t,...r}))}}class Ln extends le{create(t,r){return this._client.post("/openai/v1/audio/translations",Nn({body:t,...r}))}}class pt extends le{constructor(){super(...arguments),this.transcriptions=new In(this._client),this.translations=new Ln(this._client)}}pt.Transcriptions=In;pt.Translations=Ln;let Fn=class extends le{create(t,r){return this._client.post("/openai/v1/chat/completions",{body:t,...r,stream:t.stream??!1})}};class Jt extends le{constructor(){super(...arguments),this.completions=new Fn(this._client)}}Jt.Completions=Fn;class Mn extends le{}class Bn extends le{create(t,r){return this._client.post("/openai/v1/embeddings",{body:t,...r})}}class jn extends le{retrieve(t,r){return this._client.get(`/openai/v1/models/${t}`,r)}list(t){return this._client.get("/openai/v1/models",t)}delete(t,r){return this._client.delete(`/openai/v1/models/${t}`,r)}}var Un;class O extends Ds{constructor({baseURL:t=br("GROQ_BASE_URL"),apiKey:r=br("GROQ_API_KEY"),...n}={}){if(r===void 0)throw new z("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const i={apiKey:r,...n,baseURL:t||"https://api.groq.com"};if(!i.dangerouslyAllowBrowser&&zs())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Groq({ apiKey, dangerouslyAllowBrowser: true })`);super({baseURL:i.baseURL,timeout:i.timeout??6e4,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new Mn(this),this.chat=new Jt(this),this.embeddings=new Bn(this),this.audio=new pt(this),this.models=new jn(this),this._options=i,this.apiKey=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}}Un=O;O.Groq=Un;O.DEFAULT_TIMEOUT=6e4;O.GroqError=z;O.APIError=L;O.APIConnectionError=dt;O.APIConnectionTimeoutError=xn;O.APIUserAbortError=Pt;O.NotFoundError=An;O.ConflictError=Cn;O.RateLimitError=Tn;O.BadRequestError=En;O.AuthenticationError=Sn;O.InternalServerError=On;O.PermissionDeniedError=Rn;O.UnprocessableEntityError=kn;O.toFile=Pn;O.fileFromPath=wn;O.Completions=Mn;O.Chat=Jt;O.Embeddings=Bn;O.Audio=pt;O.Models=jn;new O({apiKey:"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",dangerouslyAllowBrowser:!0});var Js=D('<hr class="py-10 border-t-2 border-gray-300 w-full"> <p class="text-center text-2xl font-bold">Results</p>',1),Ys=D('<div class="flex items-center flex-col justify-start w-full md:w-1/3 py-4"><img class="h-[20.875rem] w-60" loading="lazy"> <p class="text-xl font-bold"> </p> <p class="text-sm text-gray-600 w-60"> </p></div>'),Qs=D('<div class="py-4"><img class="w-6 h-6 m-auto" alt="loading" loading="lazy"></div>'),Zs=D('<button class="bg-slate-800 text-white p-6 my-6 rounded-md mt-10"> </button>'),eo=D('<!> <div class="pt-20 flex items-start flex-wrap"></div> <!> <!>',1);function to(e,t){pe(t,!1);const[r,n]=vn(),i=()=>Ot(Ce,"$selectedCommander",r),s=()=>Ot(tt,"$filterType",r);let o=we([]),l=we(!1);const u=async(w,m,b)=>{if(w){S(l,!0);const k=await $t("cardAi",{method:"POST",baseurl:rt.Groq,body:JSON.stringify({commander:w,filter:b,chatCompletion:m?_(o).map(y=>y.name):[]})});k.data&&k.data.length>0?$t("cards/collection",{body:JSON.stringify({identifiers:k.data}),baseurl:rt.Scryfall,method:"POST"}).then(y=>{let h=y.data;b&&(h=h.filter(A=>{var x,q;return b.cardType?A.type_line.includes(b.cardType):(((x=b.cardColor)==null?void 0:x.length)||0)>0?(q=A.colors)==null?void 0:q.every(U=>{var re;return(re=b.cardColor)==null?void 0:re.includes(U)}):w.colors.length>0?A.colors.every(U=>w.colors.includes(U)):!0})),h=h.map(A=>{const x=k.data.find(q=>q.name===A.name);return{...A,explanation:(x==null?void 0:x.explanation)||""}}),m?S(o,[..._(o),...h]):S(o,h)}).finally(()=>{S(l,!1)}):S(l,!1)}};Hr(()=>(i(),s()),()=>{const w=i(),m=s();w&&u(w,!1,m)}),Xr(),ct();var a=eo(),f=Xt(a);{var d=w=>{var m=Js();N(w,m)};ce(f,w=>{_(o).length>0&&w(d)})}var v=T(f,2);Le(v,5,()=>_(o),Ie,(w,m)=>{var b=Ys(),k=E(b),y=T(k,2),h=E(y),A=T(y,2),x=E(A);j(()=>{V(k,"src",_(m).image_uris.large),V(k,"alt",_(m).name),F(h,_(m).name),F(x,_(m).explanation)}),Ae(k),N(w,b)});var c=T(v,2);{var p=w=>{var m=Qs(),b=E(m);j(()=>V(b,"src","/mtg-card-recommender//loading.svg")),Ae(b),N(w,m)};ce(c,w=>{_(l)&&w(p)})}var g=T(c,2);{var P=w=>{var m=Zs(),b=E(m);j(()=>F(b,Q.loadMore)),De("click",m,()=>u(dn(Ce),!0,s())),N(w,m)};ce(g,w=>{_(o).length>1&&w(P)})}N(e,a),_e(),n()}var ro=D('<main class="container min-w-[100vw] min-h-[100vh] bg-slate-100 svelte-4uv5mz"><div class="text-center svelte-4uv5mz"><h1 class="gradient-text text-4xl font-bold md:text-6xl svelte-4uv5mz"> </h1> <h3 class="mt-4 text-md md:text-xl underline text-gray-500 svelte-4uv5mz"> </h3></div> <div class="flex flex-col items-center min-h-[inherit] mt-10 svelte-4uv5mz"><!> <!> <!></div></main>');function no(e,t){pe(t,!1),ct();var r=ro(),n=E(r),i=E(n),s=E(i),o=T(i,2),l=E(o),u=T(n,2),a=E(u);Es(a,{});var f=T(a,2);gs(f,{});var d=T(f,2);to(d,{}),j(()=>{F(s,Q.title),F(l,Q.subTitle)}),N(e,r),_e()}Ii(no,{target:document.getElementById("app")});
